  <!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Núcleo Aurora | Sistema Profesional</title>

<style>
:root{
  --bg:#070b16;
  --card:rgba(255,255,255,0.06);
  --primary:#00e5ff;
  --secondary:#7b5cff;
  --success:#00ffae;
  --danger:#ff4d6d;
  --text:#ffffff;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

body{
  background:radial-gradient(circle at top,#0f1b35,#050811);
  color:var(--text);
}

.container{
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.card{
  width:380px;
  background:var(--card);
  backdrop-filter:blur(20px);
  border-radius:16px;
  padding:30px;
  box-shadow:0 0 40px rgba(0,229,255,0.1);
}

h2{
  text-align:center;
  margin-bottom:20px;
}

input{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:8px;
  outline:none;
}

button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  background:linear-gradient(45deg,var(--primary),var(--secondary));
  color:#000;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
}

.small-btn{
  font-size:12px;
  padding:6px;
  margin-top:5px;
}

.strength-bar{
  height:8px;
  border-radius:5px;
  margin-top:5px;
  transition:0.3s;
}

.message{
  text-align:center;
  margin-top:10px;
  font-size:14px;
}

.hidden{
  display:none;
}
</style>
</head>

<body>

<div class="container">

<div class="card">

<h2>Registro Aurora ID</h2>

<input type="text" id="name" placeholder="Nombre completo">

<input type="text" id="email" placeholder="Crear Gmail">
<button class="small-btn" onclick="generateEmail()">Generar Gmail sugerido</button>

<input type="password" id="password" placeholder="Crear contraseña segura">
<div class="strength-bar" id="strengthBar"></div>
<button class="small-btn" onclick="generatePassword()">Generar contraseña segura</button>

<input type="password" id="confirmPassword" placeholder="Confirmar contraseña">

<button onclick="register()">Crear Cuenta</button>
<button onclick="login()">Iniciar Sesión</button>

<div class="message" id="message"></div>

</div>

</div>

<script>

/* ================================
   GENERADOR DE GMAIL SUGERIDO
================================ */
function generateEmail(){
  const name = document.getElementById("name").value.toLowerCase().replace(/\s/g,'');
  const random = Math.floor(Math.random()*1000);
  document.getElementById("email").value = name + random + "@gmail.com";
}

/* ================================
   GENERADOR CONTRASEÑA SEGURA
================================ */
function generatePassword(){
  const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
  let pass="";
  for(let i=0;i<14;i++){
    pass+=chars.charAt(Math.floor(Math.random()*chars.length));
  }
  document.getElementById("password").value=pass;
  checkStrength();
}

/* ================================
   MEDIDOR DE SEGURIDAD
================================ */
document.getElementById("password").addEventListener("input",checkStrength);

function checkStrength(){
  const value=document.getElementById("password").value;
  let strength=0;
  if(value.length>=8) strength++;
  if(/[A-Z]/.test(value)) strength++;
  if(/[0-9]/.test(value)) strength++;
  if(/[^A-Za-z0-9]/.test(value)) strength++;

  const bar=document.getElementById("strengthBar");
  const colors=["red","orange","yellow","lime"];
  bar.style.width=(strength*25)+"%";
  bar.style.background=colors[strength-1]||"transparent";
}

/* ================================
   CIFRADO SHA-256 REAL
================================ */
async function hashPassword(password){
  const encoder=new TextEncoder();
  const data=encoder.encode(password);
  const hashBuffer=await crypto.subtle.digest("SHA-256",data);
  const hashArray=Array.from(new Uint8Array(hashBuffer));
  return hashArray.map(b=>b.toString(16).padStart(2,"0")).join("");
}

/* ================================
   REGISTRO
================================ */
async function register(){
  const name=document.getElementById("name").value;
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  const confirm=document.getElementById("confirmPassword").value;
  const message=document.getElementById("message");

  const gmailRegex=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;

  if(!gmailRegex.test(email)){
    message.style.color="red";
    message.innerText="Debe ingresar un Gmail válido.";
    return;
  }

  if(password!==confirm){
    message.style.color="red";
    message.innerText="Las contraseñas no coinciden.";
    return;
  }

  const hashed=await hashPassword(password);

  localStorage.setItem("auroraUser",JSON.stringify({name,email,hashed}));

  message.style.color="lime";
  message.innerText="Cuenta creada exitosamente.";
}

/* ================================
   LOGIN
================================ */
async function login(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;
  const stored=JSON.parse(localStorage.getItem("auroraUser"));
  const message=document.getElementById("message");

  if(!stored){
    message.style.color="red";
    message.innerText="No existe cuenta registrada.";
    return;
  }

  const hashed=await hashPassword(password);

  if(stored.email===email && stored.hashed===hashed){
    message.style.color="lime";
    message.innerText="Acceso autorizado. Bienvenido al Núcleo Aurora.";
  }else{
    message.style.color="red";
    message.innerText="Credenciales incorrectas.";
  }
}

</script>

</body>
</html>
    
